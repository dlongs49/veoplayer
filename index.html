<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>veoplayer</title>
</head>
<style>
    html,
    body {
        padding: 0;
        margin: 0;
        width: 100%;
        height: 100%;
    }

    #test,
    #test1 {
        margin-left: 18px;
    }

</style>

<body>
<div id="test"></div>
<div id="test1" style="margin-top: 20px;"></div>

<video id="videoMedia"></video>
</body>
<script type="module">
    import {VeoPlayer} from './test/veoplayer.esm.js'

    new VeoPlayer({
        id: "test",
        url: "https://s.xlzys.com/play/RdGQ2yaD/index.m3u8",
        poster: "",
        width: 665,
        height: 440,
        style: {
            // themeColor: "#ff011e",
        },
        volume: 50,
        autoplay: false,
        speed: [2, 1.5, 1, 0.75, 0.5],
        setting: ["loop", "pip"]
    })

    let player = new VeoPlayer({
        id: "test1",
        url: "https://wave.video/embed/64980862dd369c48a0a69290/649808744a11ca62ed24aec6.mp4",
        width: 665,
        height: 440,
        style: {
            themeColor: "#91CB40",
            processColor: "#91CB40"
        },
        speed: [2, 1.5, 1, 0.75, 0.5],
        setting: ["loop", "pip"]
    })
    //时长改变
    player.veoTimeUpdate((e) => {

    })
   //播放结束
    player.veoPlayEnded((e) => {
    })
</script>

<script>
    navigator.mediaDevices.getUserMedia({audio: true, video: true})
        .then(data => {
            let video = document.querySelector(".veo-video video")
            video.srcObject = data
            video.onloadedmetadata = () => {
                video.play();
            };
        })
        .catch(e => {
            console.log("error:", e);
        });
</script>

</html>
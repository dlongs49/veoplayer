<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>veoplayer</title>
</head>
<style>
    html,
    body {
        padding: 0;
        margin: 0;
        width: 100%;
        height: 100%;
    }

    #test,
    #test1 {
        margin-left: 18px;
    }
</style>
<script src="https://cdn.bootcdn.net/ajax/libs/hls.js/1.4.0/hls.min.js"></script>

<body>
    <div id="test"></div>
    <div id="test1" style="margin-top: 20px;"></div>

    <video id="videoMedia"></video>
</body>
<script type="module">
    import { VeoPlayer } from './dist/veoplayer.esm.min.js'
    // import './dist/veoplayer.global.min.js'

    let mPlayer = new VeoPlayer({
        id: "test",
        // url: "https://s.xlzys.com/play/RdGQ2yaD/index.m3u8",
        url: "https://gcalic.v.myalicdn.com/gc/wgw05_1/index.m3u8?contentid=2820180516001",
        poster: "",
        // width: 665,
        // height: 440,
        islive: true,
        style: {
            // themeColor: "#ff011e",
        },
        // volume: 50,
        // autoplay: true,
        speed: [2, 1.5, 1, 0.75],
        setting: ["loop", "pip"],
        // plugins:["speed","download","setting","capture"]
    })

    let player = new VeoPlayer({
        id: "test1",
        url: "https://wave.video/embed/64980862dd369c48a0a69290/649808744a11ca62ed24aec6.mp4",
        width: 665,
        height: 440,
        style: {
            themeColor: "#91CB40",
            processColor: "#91CB40"
        },
        speed: [2, 1.5, 1, 0.75, 0.5],
        setting: ["loop", "pip"],
        plugins:["speed","download","setting","capture"]
    })
    // 视频预加载
    player.veoLoadStart((e) => {
        console.log("视频预加载", e);
    })
    // 视频加载完成
    player.veoLoaded((e) => {
        console.log("视频加载完成", e);
    })
    // 视频缓冲
    player.veoProgressBuffer((e) => {
        // console.log("视频缓冲", e);
    })
    //时长改变
    player.veoTimeUpdate((e) => {

    })
    //播放结束
    player.veoPlayEnded((e) => {
        console.log("播放结束", e);
    })
    // 开始播放
    player.veoPlay((e) => {
        console.log("开始播放", e);
    })
    // 暂停播放
    player.veoPause((e) => {
        console.log("暂停播放", e);
    })
    // 视频播放加载异常
    player.veoError((e) => {
        console.log("视频播放加载异常", e);
    })
    // 加载中
    player.veoWaiting((e) => {
        console.log("加载中", e);
    })
    // 播放中
    player.veoPlaying((e) => {
        console.log("播放中", e);
    });
</script>

<script>
    // navigator.mediaDevices.getUserMedia({audio: true, video: true})
    //     .then(data => {
    //         let video = document.querySelector(".veo-video video")
    //         video.srcObject = data
    //         video.onloadedmetadata = () => {
    //             video.play();
    //         };
    //     })
    //     .catch(e => {
    //         console.log("error:", e);
    //     });
</script>

</html>